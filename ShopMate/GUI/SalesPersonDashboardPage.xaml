<Page
    x:Class="ShopMate.GUI.SalesPersonDashboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.Resources>
        <!-- Smooth width animation when collapsing -->
        <Storyboard x:Name="CollapseSidebarStoryboard">
            <DoubleAnimation
                Storyboard.TargetName="SidebarColumn"
                Storyboard.TargetProperty="Width.Value"
                To="60"
                Duration="0:0:0.25"/>
        </Storyboard>

        <Storyboard x:Name="ExpandSidebarStoryboard">
            <DoubleAnimation
                Storyboard.TargetName="SidebarColumn"
                Storyboard.TargetProperty="Width.Value"
                To="220"
                Duration="0:0:0.25"/>
        </Storyboard>
    </Page.Resources>


    <Grid>
        <!-- SIDEBAR + MAIN CONTENT COLUMNS -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="SidebarColumn"
                              Width="170"/>
            <!-- collapsible -->
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ========================= SIDEBAR ========================= -->
        <Grid Grid.Column="0" Background="#111827">

            <StackPanel x:Name="SidebarPanel"
                        Padding="10"
                        Spacing="15">

                <!-- Header (Title + Toggle) -->
                <Grid Margin="0,10,0,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="40"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="Sales Panel"
                            x:Name="SidebarTitle"
                            Foreground="#E5E7EB"
                            FontSize="12"
                            FontWeight="SemiBold"
                            VerticalAlignment="Center"/>

                    <Button Content="≡"
                            Grid.Column="1"
                            Width="36"
                            Height="36"
                            Background="Transparent"
                            Foreground="#E5E7EB"
                            BorderBrush="Transparent"
                            FontSize="20"
                            Tag="TODO: Sidebar toggle handler"/>
                </Grid>
                

                <!-- Sidebar Buttons -->
                <StackPanel Spacing="10">

                    <!-- Button Style -->
                    <StackPanel.Resources>
                        <Style TargetType="Button">
                            <Setter Property="Width" Value="130"/>
                            <Setter Property="Height" Value="38"/>
                            <Setter Property="FontSize" Value="14"/> 
                            <Setter Property="Foreground" Value="#F3F4F6"/>
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="BorderBrush" Value="Transparent"/>
                            <Setter Property="HorizontalAlignment" Value="Left"/>
                            <Setter Property="Padding" Value="12,5"/>
                            <Setter Property="CornerRadius" Value="6"/>
                        </Style>
                    </StackPanel.Resources>

                    <!-- Actual Buttons -->
                    <Button Content="Dashboard" Tag="TODO: Navigate to Dashboard" Click="OnDashboardClicked"/>
                    <Button Content="Generate Bill" Tag="TODO: Navigate to Billing" Click="OnGenerateBillClicked"/>
                    <Button Content="Generate Report" Tag="TODO: Navigate to Reports" Click="OnGenerateReportClicked"/>
                    <Button Content="Add Customer" Tag="TODO: Navigate to Customers" Click="OnAddCustomerClicked"/>
                    <Button Content="Add Product" Tag="TODO: Navigate to Products" Click="OnAddProductClicked"/>

                    <StackPanel Grid.Row="2"
                            Padding="10"
                            Spacing="10"
                            Margin="0,0,0,20"> 

                        <Rectangle Height="1"
                                Fill="#1F2937"
                                Margin="0,0,0,10"/>

                        <Button Content="Settings" Click="OnSettingsClicked"/>

                        <!-- SIGN OUT ALWAYS AT THE ABSOLUTE BOTTOM -->
                        <Button Content="Sign Out"
                                Click="OnSignOutClicked"
                                Foreground="#EF4444"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Grid>

        <!-- ====================== MAIN CONTENT ====================== -->
        <ScrollViewer Grid.Column="1">
            <StackPanel Padding="40" Spacing="20">

                <!-- Welcome Header -->
                <TextBlock Text="Welcome back!"
                        FontSize="32"
                        FontWeight="SemiBold"/>
                <TextBlock Text="What would you like to do today?"
                        FontSize="12"
                        Foreground="Gray"/>

                <!-- Quick Action Cards -->
                <Grid ColumnSpacing="20"
                    RowSpacing="20"
                    Margin="0,20,0,0">

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Add Customer -->
                    <Border Grid.Column="0" Grid.Row="0"
                            Background="#3B82F6"
                            CornerRadius="18"
                            Padding="20">
                        <StackPanel>
                            <TextBlock Text="Add Customer"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    FontSize="20"/>

                            <TextBlock Text="Register new customer"
                                    Foreground="White"
                                    FontSize="13"
                                    Margin="0,4,0,10"/>

                            <Button Content="Get Started"
                                    Padding="8,4"
                                    Background="#20FFFFFF"
                                    Foreground="White"
                                    BorderBrush="Transparent"
                                    CornerRadius="6"/>
                        </StackPanel>
                    </Border>

                    <!-- Add Product -->
                    <Border Grid.Column="1" Grid.Row="0"
                            Background="#10B981"
                            CornerRadius="18"
                            Padding="20">
                        <StackPanel>
                            <TextBlock Text="Add Product"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    FontSize="20"/>

                            <TextBlock Text="Add products for sale"
                                    Foreground="White"
                                    FontSize="13"                              
                                    Margin="0,4,0,10"/>

                            <Button Content="Get Started"
                                    Padding="8,4"
                                    Background="#20FFFFFF"
                                    Foreground="White"
                                    BorderBrush="Transparent"
                                    CornerRadius="6"/>
                        </StackPanel>
                    </Border>

                    <!-- Generate Bill -->
                    <Border Grid.Column="0" Grid.Row="1"
                            Background="#8B5CF6"
                            CornerRadius="18"
                            Padding="20">
                        <StackPanel>
                            <TextBlock Text="Generate Bill"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    FontSize="20"/>

                            <TextBlock Text="Create a new bill and receipt"
                                    Foreground="White"
                                    FontSize="13"
                                    Margin="0,4,0,10"/>

                            <Button Content="Get Started"
                                    Padding="8,4"
                                    Background="#20FFFFFF"
                                    Foreground="White"
                                    BorderBrush="Transparent"
                                    CornerRadius="6"/>
                        </StackPanel>
                    </Border>

                    <!-- Sales Report -->
                    <Border Grid.Column="1" Grid.Row="1"
                            Background="#F59E0B"
                            CornerRadius="18"
                            Padding="20">
                        <StackPanel>
                            <TextBlock Text="Sales Report"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    FontSize="20"/>

                            <TextBlock Text="Monthly sales report"
                                    Foreground="White"
                                    FontSize="13"
                                    Margin="0,4,0,10"/>

                            <Button Content="Get Started"
                                    Padding="8,4"
                                    Background="#20FFFFFF"
                                    Foreground="White"
                                    BorderBrush="Transparent"
                                    CornerRadius="6"/>
                        </StackPanel>
                    </Border>

                </Grid>

            </StackPanel>
        </ScrollViewer>

    </Grid>
</Page>